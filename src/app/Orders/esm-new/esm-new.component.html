<div id="pause" class="d-flex align-items-center justify-content-center" *ngIf="loading">
  <div id="spinner" class="loader"></div>
</div>
<div class="container-fluid">
  <div class="logo2">
    <div class="card m-1">
      <h3 class="card-header d-flex align-items-center justify-content-between">
        <!-- Left side -->
        <span class="d-flex align-items-center">
          <img src="../../../assets/imagesuiux/saved.png" style="width: 40px; height: 40px;" class="me-2">
          <b>Dataset with Batch Details for SO- {{this.SoNo}}</b>
        </span>

        <!-- Right side buttons -->
        <span>
          <!-- <button class="btn btn-sm btn-primary me-2">Generate Batch</button> -->
          <button class="btn btn-sm btn-primary" (click)="OpenESM()">Custom View</button>
        </span>
      </h3>
      <div class="card-body">
        <div class="table-container">
          <div>
            <!-- body -->
            <cdk-virtual-scroll-viewport itemSize="36" class="viewport">
              <div class="header-row" role="row">
                <div class="cell sticky-col header-cell" style="left:0;">SR No</div>
                <div *ngFor="let col of availableColumns; trackBy: trackByCol" class="cell header-cell" style="font-weight:bold;"> 
                  {{ col.DisplayName }}
                </div>
              </div>
              <div *cdkVirtualFor="let row of rows; let i = index; trackBy: trackByRow" class="data-row">
                <div class="cell sticky-col index-cell" style="left:0;">{{ i + 1 }}</div>
                <div *ngFor="let col of availableColumns; trackBy: trackByCol" class="cell">
                  {{ row[col.ColumnName] }}
                </div>
              </div>
                <!-- No data row -->
              <div *ngIf="rows.length === 0" class="data-row no-data">
                <div  [attr.colspan]="availableColumns.length + 1" style="text-align:start; width:100%;">
                  No Data Found
                </div>
              </div>
            </cdk-virtual-scroll-viewport>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
